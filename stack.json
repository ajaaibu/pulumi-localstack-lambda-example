{
    "version": 3,
    "deployment": {
        "manifest": {
            "time": "2019-11-03T21:38:56.037602-05:00",
            "magic": "09ef6aa2d53fba7a3aeedde1ff2d6cc8846c95e3372f6c04723d5fb568b198af",
            "version": "v1.4.1"
        },
        "secrets_providers": {
            "type": "service",
            "state": {
                "url": "https://api.pulumi.com",
                "owner": "demiban",
                "project": "serverless-api",
                "stack": "development"
            }
        },
        "resources": [
            {
                "urn": "urn:pulumi:development::serverless-api::pulumi:pulumi:Stack::serverless-api-development",
                "custom": false,
                "type": "pulumi:pulumi:Stack"
            },
            {
                "urn": "urn:pulumi:development::serverless-api::aws:apigateway:x:API::serverless-api-api-new",
                "custom": false,
                "type": "aws:apigateway:x:API",
                "parent": "urn:pulumi:development::serverless-api::pulumi:pulumi:Stack::serverless-api-development"
            },
            {
                "urn": "urn:pulumi:development::serverless-api::pulumi:providers:aws::localstack",
                "custom": true,
                "id": "ee9f7ba4-c6b2-44d3-b38f-cfad4462be3c",
                "type": "pulumi:providers:aws",
                "inputs": {
                    "accessKey": "mockAccessKey",
                    "endpoints": "[{\"apigateway\":\"http://localhost:4567\",\"cloudformation\":\"http://localhost:4581\",\"cloudwatch\":\"http://localhost:4582\",\"cloudwatchlogs\":\"http://localhost:4586\",\"cognitoidentity\":\"http://localhost:4591\",\"dynamodb\":\"http://localhost:4569\",\"ec2\":\"http://localhost:4597\",\"ecs\":\"http://localhost:4601\",\"elasticache\":\"http://localhost:4598\",\"es\":\"http://localhost:4578\",\"firehose\":\"http://localhost:4573\",\"iam\":\"http://localhost:4593\",\"iot\":\"http://localhost:4589\",\"kinesis\":\"http://localhost:4568\",\"kms\":\"http://localhost:4584\",\"lambda\":\"http://localhost:4574\",\"rds\":\"http://localhost:4594\",\"route53\":\"http://localhost:4580\",\"redshift\":\"http://localhost:4577\",\"s3\":\"http://localhost:4572\",\"secretsmanager\":\"http://localhost:4584\",\"ses\":\"http://localhost:4579\",\"sns\":\"http://localhost:4575\",\"sqs\":\"http://localhost:4576\",\"ssm\":\"http://localhost:4583\",\"stepfunctions\":\"http://localhost:4585\",\"sts\":\"http://localhost:4592\"}]",
                    "insecure": "true",
                    "maxRetries": "5",
                    "profile": "iacDeploy",
                    "region": "us-east-1",
                    "s3ForcePathStyle": "true",
                    "secretKey": "mockSecretKey",
                    "skipCredentialsValidation": "true",
                    "skipGetEc2Platforms": "true",
                    "skipMetadataApiCheck": "true",
                    "skipRegionValidation": "true",
                    "skipRequestingAccountId": "true"
                },
                "outputs": {
                    "accessKey": "mockAccessKey",
                    "endpoints": "[{\"apigateway\":\"http://localhost:4567\",\"cloudformation\":\"http://localhost:4581\",\"cloudwatch\":\"http://localhost:4582\",\"cloudwatchlogs\":\"http://localhost:4586\",\"cognitoidentity\":\"http://localhost:4591\",\"dynamodb\":\"http://localhost:4569\",\"ec2\":\"http://localhost:4597\",\"ecs\":\"http://localhost:4601\",\"elasticache\":\"http://localhost:4598\",\"es\":\"http://localhost:4578\",\"firehose\":\"http://localhost:4573\",\"iam\":\"http://localhost:4593\",\"iot\":\"http://localhost:4589\",\"kinesis\":\"http://localhost:4568\",\"kms\":\"http://localhost:4584\",\"lambda\":\"http://localhost:4574\",\"rds\":\"http://localhost:4594\",\"route53\":\"http://localhost:4580\",\"redshift\":\"http://localhost:4577\",\"s3\":\"http://localhost:4572\",\"secretsmanager\":\"http://localhost:4584\",\"ses\":\"http://localhost:4579\",\"sns\":\"http://localhost:4575\",\"sqs\":\"http://localhost:4576\",\"ssm\":\"http://localhost:4583\",\"stepfunctions\":\"http://localhost:4585\",\"sts\":\"http://localhost:4592\"}]",
                    "insecure": "true",
                    "maxRetries": "5",
                    "profile": "iacDeploy",
                    "region": "us-east-1",
                    "s3ForcePathStyle": "true",
                    "secretKey": "mockSecretKey",
                    "skipCredentialsValidation": "true",
                    "skipGetEc2Platforms": "true",
                    "skipMetadataApiCheck": "true",
                    "skipRegionValidation": "true",
                    "skipRequestingAccountId": "true"
                },
                "parent": "urn:pulumi:development::serverless-api::pulumi:pulumi:Stack::serverless-api-development",
                "propertyDependencies": {
                    "accessKey": null,
                    "endpoints": null,
                    "insecure": null,
                    "maxRetries": null,
                    "profile": null,
                    "region": null,
                    "s3ForcePathStyle": null,
                    "secretKey": null,
                    "skipCredentialsValidation": null,
                    "skipGetEc2Platforms": null,
                    "skipMetadataApiCheck": null,
                    "skipRegionValidation": null,
                    "skipRequestingAccountId": null
                }
            },
            {
                "urn": "urn:pulumi:development::serverless-api::aws:iam/role:Role::serverless-api-lambda-role",
                "custom": true,
                "id": "serverless-api-lambda-role-020d0c5",
                "type": "aws:iam/role:Role",
                "inputs": {
                    "__defaults": [
                        "forceDetachPolicies",
                        "maxSessionDuration",
                        "name",
                        "path"
                    ],
                    "assumeRolePolicy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Effect\":\"Allow\",\"Sid\":\"\"}]}",
                    "forceDetachPolicies": false,
                    "maxSessionDuration": 3600,
                    "name": "serverless-api-lambda-role-020d0c5",
                    "path": "/",
                    "tags": {
                        "Environment": "development",
                        "__defaults": []
                    }
                },
                "outputs": {
                    "arn": "arn:aws:iam::489226005114:role/serverless-api-lambda-role-020d0c5",
                    "assumeRolePolicy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Effect\":\"Allow\",\"Sid\":\"\"}]}",
                    "createDate": "2019-11-04T02:26:05Z",
                    "description": "None",
                    "forceDetachPolicies": false,
                    "id": "serverless-api-lambda-role-020d0c5",
                    "maxSessionDuration": 0,
                    "name": "serverless-api-lambda-role-020d0c5",
                    "path": "/",
                    "tags": {
                        "Environment": "development"
                    },
                    "uniqueId": "gz5gzyoue701bfk4xe67"
                },
                "parent": "urn:pulumi:development::serverless-api::pulumi:pulumi:Stack::serverless-api-development",
                "provider": "urn:pulumi:development::serverless-api::pulumi:providers:aws::localstack::ee9f7ba4-c6b2-44d3-b38f-cfad4462be3c",
                "propertyDependencies": {
                    "assumeRolePolicy": null,
                    "tags": null
                }
            },
            {
                "urn": "urn:pulumi:development::serverless-api::aws:iam/rolePolicyAttachment:RolePolicyAttachment::serverless-api-lambda-access",
                "custom": true,
                "id": "serverless-api-lambda-role-020d0c5-20191104022605445200000001",
                "type": "aws:iam/rolePolicyAttachment:RolePolicyAttachment",
                "inputs": {
                    "__defaults": [],
                    "policyArn": "arn:aws:iam::aws:policy/AWSLambdaFullAccess",
                    "role": "serverless-api-lambda-role-020d0c5"
                },
                "outputs": {
                    "id": "serverless-api-lambda-role-020d0c5-20191104022605445200000001",
                    "policyArn": "arn:aws:iam::aws:policy/AWSLambdaFullAccess",
                    "role": "serverless-api-lambda-role-020d0c5"
                },
                "parent": "urn:pulumi:development::serverless-api::pulumi:pulumi:Stack::serverless-api-development",
                "dependencies": [
                    "urn:pulumi:development::serverless-api::aws:iam/role:Role::serverless-api-lambda-role"
                ],
                "provider": "urn:pulumi:development::serverless-api::pulumi:providers:aws::localstack::ee9f7ba4-c6b2-44d3-b38f-cfad4462be3c",
                "propertyDependencies": {
                    "policyArn": null,
                    "role": [
                        "urn:pulumi:development::serverless-api::aws:iam/role:Role::serverless-api-lambda-role"
                    ]
                }
            },
            {
                "urn": "urn:pulumi:development::serverless-api::aws:lambda/function:Function::serverless-api-lambda-node",
                "custom": true,
                "id": "serverless-api-lambda-node-39e21b3",
                "type": "aws:lambda/function:Function",
                "inputs": {
                    "__defaults": [
                        "memorySize",
                        "name",
                        "publish",
                        "reservedConcurrentExecutions"
                    ],
                    "code": {
                        "4dabf18193072939515e22adb298388d": "0def7320c3a5731c473e5ecbe6d01bc7",
                        "hash": "2154e3f527a64b1572ff154a578b972fbc2db7abba0406232468985861db87ee",
                        "path": "./functions/node/handler.zip"
                    },
                    "handler": "handler.handler",
                    "memorySize": 128,
                    "name": "serverless-api-lambda-node-39e21b3",
                    "publish": false,
                    "reservedConcurrentExecutions": -1,
                    "role": "arn:aws:iam::489226005114:role/serverless-api-lambda-role-020d0c5",
                    "runtime": "nodejs10.x",
                    "tags": {
                        "Environment": "development",
                        "__defaults": []
                    },
                    "timeout": 300
                },
                "outputs": {
                    "arn": "arn:aws:lambda:us-east-1:489226005114:function:serverless-api-lambda-node-39e21b3",
                    "code": {
                        "4dabf18193072939515e22adb298388d": "0def7320c3a5731c473e5ecbe6d01bc7",
                        "hash": "2154e3f527a64b1572ff154a578b972fbc2db7abba0406232468985861db87ee",
                        "path": "./functions/node/handler.zip"
                    },
                    "description": "",
                    "handler": "handler.handler",
                    "id": "serverless-api-lambda-node-39e21b3",
                    "invokeArn": "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:489226005114:function:serverless-api-lambda-node-39e21b3/invocations",
                    "kmsKeyArn": "",
                    "lastModified": "2019-11-04T02:26:05.824+0000",
                    "layers": [],
                    "memorySize": 128,
                    "name": "serverless-api-lambda-node-39e21b3",
                    "publish": false,
                    "qualifiedArn": "arn:aws:lambda:us-east-1:489226005114:function:serverless-api-lambda-node-39e21b3:$LATEST",
                    "reservedConcurrentExecutions": -1,
                    "role": "arn:aws:iam::489226005114:role/serverless-api-lambda-role-020d0c5",
                    "runtime": "nodejs10.x",
                    "sourceCodeHash": "IVTj9SemSxVy/xVKV4uXL7wtt6u6BAYjJGiYWGHbh+4=",
                    "sourceCodeSize": 414,
                    "tags": {},
                    "timeout": 300,
                    "tracingConfig": {
                        "mode": "PassThrough"
                    },
                    "version": "$LATEST"
                },
                "parent": "urn:pulumi:development::serverless-api::pulumi:pulumi:Stack::serverless-api-development",
                "dependencies": [
                    "urn:pulumi:development::serverless-api::aws:iam/rolePolicyAttachment:RolePolicyAttachment::serverless-api-lambda-access",
                    "urn:pulumi:development::serverless-api::aws:iam/role:Role::serverless-api-lambda-role"
                ],
                "provider": "urn:pulumi:development::serverless-api::pulumi:providers:aws::localstack::ee9f7ba4-c6b2-44d3-b38f-cfad4462be3c",
                "propertyDependencies": {
                    "code": null,
                    "handler": null,
                    "role": [
                        "urn:pulumi:development::serverless-api::aws:iam/role:Role::serverless-api-lambda-role"
                    ],
                    "runtime": null,
                    "tags": null,
                    "timeout": null
                }
            },
            {
                "urn": "urn:pulumi:development::serverless-api::aws:lambda/function:Function::serverless-api-lambda-go",
                "custom": true,
                "id": "serverless-api-lambda-go-c455e7c",
                "type": "aws:lambda/function:Function",
                "inputs": {
                    "__defaults": [
                        "memorySize",
                        "name",
                        "publish",
                        "reservedConcurrentExecutions"
                    ],
                    "code": {
                        "4dabf18193072939515e22adb298388d": "0def7320c3a5731c473e5ecbe6d01bc7",
                        "hash": "1f2ddb96cdefdc34ea86a4de01feeecb85bf1cc8f7573d2334718cbefefe6566",
                        "path": "./functions/golang/main.zip"
                    },
                    "handler": "main",
                    "memorySize": 128,
                    "name": "serverless-api-lambda-go-c455e7c",
                    "publish": false,
                    "reservedConcurrentExecutions": -1,
                    "role": "arn:aws:iam::489226005114:role/serverless-api-lambda-role-020d0c5",
                    "runtime": "go1.x",
                    "tags": {
                        "Environment": "development",
                        "__defaults": []
                    },
                    "timeout": 300
                },
                "outputs": {
                    "arn": "arn:aws:lambda:us-east-1:489226005114:function:serverless-api-lambda-go-c455e7c",
                    "code": {
                        "4dabf18193072939515e22adb298388d": "0def7320c3a5731c473e5ecbe6d01bc7",
                        "hash": "1f2ddb96cdefdc34ea86a4de01feeecb85bf1cc8f7573d2334718cbefefe6566",
                        "path": "./functions/golang/main.zip"
                    },
                    "description": "",
                    "handler": "main",
                    "id": "serverless-api-lambda-go-c455e7c",
                    "invokeArn": "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:489226005114:function:serverless-api-lambda-go-c455e7c/invocations",
                    "kmsKeyArn": "",
                    "lastModified": "2019-11-04T02:26:06.173+0000",
                    "layers": [],
                    "memorySize": 128,
                    "name": "serverless-api-lambda-go-c455e7c",
                    "publish": false,
                    "qualifiedArn": "arn:aws:lambda:us-east-1:489226005114:function:serverless-api-lambda-go-c455e7c:$LATEST",
                    "reservedConcurrentExecutions": -1,
                    "role": "arn:aws:iam::489226005114:role/serverless-api-lambda-role-020d0c5",
                    "runtime": "go1.x",
                    "sourceCodeHash": "Hy3bls3v3DTqhqTeAf7uy4W/HMj3Vz0jNHGMvv7+ZWY=",
                    "sourceCodeSize": 5027160,
                    "tags": {},
                    "timeout": 300,
                    "tracingConfig": {
                        "mode": "PassThrough"
                    },
                    "version": "$LATEST"
                },
                "parent": "urn:pulumi:development::serverless-api::pulumi:pulumi:Stack::serverless-api-development",
                "dependencies": [
                    "urn:pulumi:development::serverless-api::aws:iam/rolePolicyAttachment:RolePolicyAttachment::serverless-api-lambda-access",
                    "urn:pulumi:development::serverless-api::aws:iam/role:Role::serverless-api-lambda-role"
                ],
                "provider": "urn:pulumi:development::serverless-api::pulumi:providers:aws::localstack::ee9f7ba4-c6b2-44d3-b38f-cfad4462be3c",
                "propertyDependencies": {
                    "code": null,
                    "handler": null,
                    "role": [
                        "urn:pulumi:development::serverless-api::aws:iam/role:Role::serverless-api-lambda-role"
                    ],
                    "runtime": null,
                    "tags": null,
                    "timeout": null
                }
            },
            {
                "urn": "urn:pulumi:development::serverless-api::aws:apigateway:x:API$aws:apigateway/restApi:RestApi::serverless-api-api-new",
                "custom": true,
                "id": "457pnemw9c",
                "type": "aws:apigateway/restApi:RestApi",
                "inputs": {
                    "__defaults": [
                        "minimumCompressionSize"
                    ],
                    "apiKeySource": "NONE",
                    "binaryMediaTypes": [
                        "*/*"
                    ],
                    "body": "{\"swagger\":\"2.0\",\"info\":{\"title\":\"serverless-api-api-new\",\"version\":\"1.0\"},\"paths\":{\"/nodejs\":{\"x-amazon-apigateway-any-method\":{\"x-amazon-apigateway-integration\":{\"uri\":\"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:489226005114:function:serverless-api-lambda-node-39e21b3/invocations\",\"passthroughBehavior\":\"when_no_match\",\"httpMethod\":\"POST\",\"type\":\"aws_proxy\"}}}},\"x-amazon-apigateway-binary-media-types\":[\"*/*\"],\"x-amazon-apigateway-gateway-responses\":{\"MISSING_AUTHENTICATION_TOKEN\":{\"statusCode\":404,\"responseTemplates\":{\"application/json\":\"{\\\"message\\\": \\\"404 Not found\\\" }\"}},\"ACCESS_DENIED\":{\"statusCode\":404,\"responseTemplates\":{\"application/json\":\"{\\\"message\\\": \\\"404 Not found\\\" }\"}}},\"x-amazon-apigateway-api-key-source\":\"HEADER\"}",
                    "minimumCompressionSize": -1,
                    "name": "serverless-api-api-new"
                },
                "outputs": {
                    "apiKeySource": "HEADER",
                    "binaryMediaTypes": [
                        "*/*"
                    ],
                    "body": "{\"swagger\":\"2.0\",\"info\":{\"title\":\"serverless-api-api-new\",\"version\":\"1.0\"},\"paths\":{\"/nodejs\":{\"x-amazon-apigateway-any-method\":{\"x-amazon-apigateway-integration\":{\"uri\":\"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:489226005114:function:serverless-api-lambda-node-39e21b3/invocations\",\"passthroughBehavior\":\"when_no_match\",\"httpMethod\":\"POST\",\"type\":\"aws_proxy\"}}},\"/golang\":{\"x-amazon-apigateway-any-method\":{\"x-amazon-apigateway-integration\":{\"uri\":\"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:489226005114:function:serverless-api-lambda-go-c455e7c/invocations\",\"passthroughBehavior\":\"when_no_match\",\"httpMethod\":\"POST\",\"type\":\"aws_proxy\"}}}},\"x-amazon-apigateway-binary-media-types\":[\"*/*\"],\"x-amazon-apigateway-gateway-responses\":{\"MISSING_AUTHENTICATION_TOKEN\":{\"statusCode\":404,\"responseTemplates\":{\"application/json\":\"{\\\"message\\\": \\\"404 Not found\\\" }\"}},\"ACCESS_DENIED\":{\"statusCode\":404,\"responseTemplates\":{\"application/json\":\"{\\\"message\\\": \\\"404 Not found\\\" }\"}}},\"x-amazon-apigateway-api-key-source\":\"HEADER\"}",
                    "id": "457pnemw9c",
                    "minimumCompressionSize": -1,
                    "name": "serverless-api-api-new"
                },
                "parent": "urn:pulumi:development::serverless-api::aws:apigateway:x:API::serverless-api-api-new",
                "dependencies": [
                    "urn:pulumi:development::serverless-api::pulumi:providers:aws::localstack",
                    "urn:pulumi:development::serverless-api::aws:lambda/function:Function::serverless-api-lambda-node",
                    "urn:pulumi:development::serverless-api::aws:lambda/function:Function::serverless-api-lambda-go"
                ],
                "initErrors": [
                    "updating urn:pulumi:development::serverless-api::aws:apigateway:x:API$aws:apigateway/restApi:RestApi::serverless-api-api-new: error updating API Gateway specification: SerializationError: failed to unmarshal response error\n\tstatus code: 500, request id: \ncaused by: UnmarshalError: failed decoding error message\n\t00000000  3c 21 44 4f 43 54 59 50  45 20 48 54 4d 4c 20 50  |\u003c!DOCTYPE HTML P|\n00000010  55 42 4c 49 43 20 22 2d  2f 2f 57 33 43 2f 2f 44  |UBLIC \"-//W3C//D|\n00000020  54 44 20 48 54 4d 4c 20  33 2e 32 20 46 69 6e 61  |TD HTML 3.2 Fina|\n00000030  6c 2f 2f 45 4e 22 3e 0a  3c 74 69 74 6c 65 3e 35  |l//EN\"\u003e.\u003ctitle\u003e5|\n00000040  30 30 20 49 6e 74 65 72  6e 61 6c 20 53 65 72 76  |00 Internal Serv|\n00000050  65 72 20 45 72 72 6f 72  3c 2f 74 69 74 6c 65 3e  |er Error\u003c/title\u003e|\n00000060  0a 3c 68 31 3e 49 6e 74  65 72 6e 61 6c 20 53 65  |.\u003ch1\u003eInternal Se|\n00000070  72 76 65 72 20 45 72 72  6f 72 3c 2f 68 31 3e 0a  |rver Error\u003c/h1\u003e.|\n00000080  3c 70 3e 54 68 65 20 73  65 72 76 65 72 20 65 6e  |\u003cp\u003eThe server en|\n00000090  63 6f 75 6e 74 65 72 65  64 20 61 6e 20 69 6e 74  |countered an int|\n000000a0  65 72 6e 61 6c 20 65 72  72 6f 72 20 61 6e 64 20  |ernal error and |\n000000b0  77 61 73 20 75 6e 61 62  6c 65 20 74 6f 20 63 6f  |was unable to co|\n000000c0  6d 70 6c 65 74 65 20 79  6f 75 72 20 72 65 71 75  |mplete your requ|\n000000d0  65 73 74 2e 20 45 69 74  68 65 72 20 74 68 65 20  |est. Either the |\n000000e0  73 65 72 76 65 72 20 69  73 20 6f 76 65 72 6c 6f  |server is overlo|\n000000f0  61 64 65 64 20 6f 72 20  74 68 65 72 65 20 69 73  |aded or there is|\n00000100  20 61 6e 20 65 72 72 6f  72 20 69 6e 20 74 68 65  | an error in the|\n00000110  20 61 70 70 6c 69 63 61  74 69 6f 6e 2e 3c 2f 70  | application.\u003c/p|\n00000120  3e 0a                                             |\u003e.|\n\ncaused by: invalid character '\u003c' looking for beginning of value"
                ],
                "provider": "urn:pulumi:development::serverless-api::pulumi:providers:aws::localstack::ee9f7ba4-c6b2-44d3-b38f-cfad4462be3c",
                "propertyDependencies": {
                    "binaryMediaTypes": null,
                    "body": [
                        "urn:pulumi:development::serverless-api::pulumi:providers:aws::localstack",
                        "urn:pulumi:development::serverless-api::aws:lambda/function:Function::serverless-api-lambda-node",
                        "urn:pulumi:development::serverless-api::aws:lambda/function:Function::serverless-api-lambda-go"
                    ],
                    "name": null
                }
            }
        ]
    }
}
